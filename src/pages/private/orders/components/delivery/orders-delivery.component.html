<tui-accordion-item class="container" [open]="true" [size]="'s'">
    <span class="f-14 fw-500 f-05 f-lh-12">Entrega</span>

    <ng-template tuiAccordionItemContent>

        <grid [direction]="'row'" [gap]="[16,16]">
            <span class="f-13 fw-400 f-06 f-lh-17">
                {{ hadCustomer ? 'Tipo de entrega' : 'Selecciona el tipo de entrega del pedido'}}
            </span>

            <ng-container *ngIf="hadCustomer">
                <grid [direction]="'column'" [template]="'1fr 1fr'">
                    <grid [direction]="'row'" [gap]="[6,8]">
                        <span class="f-14 fw-400 f-07 f-lh-14">
                            Tipo de entrega elegido:
                        </span>
                        <span class="f-14 fw-400 f-02 f-lh-14">
                            {{deliveryTypeText}}
                        </span>
                    </grid>

                    <grid *ngIf="isDelivery" [direction]="'row'" [gap]="[8,8]">
                        <span class="f-14 fw-400 f-07 f-lh-14">
                            Costo de envío:
                        </span>
                        <span class="f-14 fw-400 f-02 f-lh-14">
                            {{
                            orderDelivery?.Cost ?
                            (orderDelivery?.Cost ?? 0 | numeralFormat: '$0,0.00'):
                            'Sin costo'
                            }}
                        </span>
                    </grid>
                </grid>
                <ng-container *ngIf="isDelivery">
                    <grid [direction]="'column'" [template]="'1fr 1fr'">
                        <grid [direction]="'row'" [gap]="[8,8]">
                            <span class="f-14 fw-400 f-07 f-lh-14">
                                Fecha de entrega:
                            </span>
                            <span class="f-14 fw-400 f-02 f-lh-14">
                                {{ orderDelivery?.Date ? (orderDelivery?.Date | dateFormat: 'DD/MM/YYYY') : 'Sin fecha'}}
                            </span>
                        </grid>
                        <grid [direction]="'row'" [gap]="[8,8]">
                            <span class="f-14 fw-400 f-07 f-lh-14">
                                Horario de entrega:
                            </span>
                            <span class="f-14 fw-400 f-02 f-lh-14">
                                {{orderDelivery?.Time}}
                            </span>
                        </grid>
                    </grid>
                    <grid [direction]="'row'" [gap]="[8,8]">
                        <grid [direction]="'row'" [gap]="[8,8]">
                            <span class="f-14 fw-400 f-07 f-lh-14">
                                Dirección:
                            </span>
                            <span class="f-14 fw-400 f-02 f-lh-14">
                                {{orderDelivery?.Address}}
                            </span>
                        </grid>
                        <grid [gap]="[4,4]" [direction]="'column'" [align]="'center-left'">
                            <span class="material-symbols-outlined f-16 f-primary ">
                                directions
                            </span>
                            <a [href]="googleUrlMap" target="_blank" class="f-13 f-lh-16 f-primary pointer"
                                [padding]="'3px 0 0 0'">
                                Ver en mapa
                            </a>
                        </grid>
                    </grid>
                    <grid [direction]="'row'" [gap]="[8,8]">
                        <span class="f-14 fw-400 f-07 f-lh-14">
                            Instrucciones:
                        </span>
                        <span class="f-14 fw-400 f-02 f-lh-14">
                            {{orderDelivery?.Indications}}
                        </span>
                    </grid>
                </ng-container>


                <grid [direction]="'column'" [align]="'center-right'">
                    <button *ngIf="canChangeDelivery" (click)="facade.openAdjustDelivery()" secondary small
                        [disabled]="canAdjustDelivery">
                        Cambiar entrega
                    </button>
                </grid>

            </ng-container>


        </grid>

    </ng-template>
</tui-accordion-item>

<orders-adjust-delivery [(show)]="facade.showAdjustDelivery" />