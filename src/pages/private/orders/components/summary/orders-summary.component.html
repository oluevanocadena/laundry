<tui-accordion-item class="container" [open]="true" [size]="'s'">
    <span class="f-14 fw-500 f-05 f-lh-12">Resumen de pago</span>

    <ng-template tuiAccordionItemContent>
        <grid [direction]="'row'" [gap]="[16,16]">

            <grid [direction]="'column'" [template]="'1fr max-content'" width="100%">
                <span class="f-13 fw-400 f-06 f-lh-14">Subtotal</span>
                <span class="f-13 fw-600 f-01 f-lh-14">
                    {{orderTotals?.Subtotal ?? 0 | numeralFormat: '$0,0.00'}}
                </span>
            </grid>
            <grid [direction]="'column'" [template]="'1fr max-content'" width="100%">
                <span class="f-13 fw-400 f-06 f-lh-14">
                    Impuestos
                    <span class="fw-500">
                        {{0.16 | numeralFormat:'0.0%'}}
                    </span>
                </span>
                <span class="f-13 fw-600 f-01 f-lh-14">
                    {{orderTotals?.Taxes ?? 0 | numeralFormat: '$0,0.00'}}
                </span>
            </grid>
            <grid [direction]="'column'" [template]="'1fr max-content'" width="100%">
                <span class="f-13 fw-400 f-06 f-lh-14">Env√≠o</span>
                <span class="f-13 fw-600 f-01 f-lh-14">
                    {{0 | numeralFormat: '$0,0.00'}}
                </span>
            </grid>
            <grid [direction]="'column'" [template]="'1fr max-content'" width="100%">
                <span class="f-13 fw-400 f-06 f-lh-14">Descuento</span>
                <span class="f-13 fw-600 f-01 f-lh-14">
                    {{orderTotals?.Discount ?? 0 | numeralFormat: '$0,0.00'}}
                </span>
            </grid>
            <grid [direction]="'column'" [template]="'1fr max-content'" width="100%">
                <span class="f-13 fw-600 f-01 f-lh-14">Total</span>
                <span class="f-13 fw-600 f-01 f-lh-17">
                    {{orderTotals?.Total ?? 0 | numeralFormat: '$0,0.00'}}
                </span>
            </grid>
            <grid *ngIf="itemsCount > 0" [direction]="'column'" [template]="'1fr'" padding="1rem 0 0 0"
                class="border-top-06">
                <grid [gap]="[16,16]" [direction]="'column'" [align]="'center-right'">
                    <button (click)="facade.openDiscount()" secondary small [disabled]="canAddDiscount=== false">
                        Agregar descuento
                    </button>
                    <button (click)="facade.openCollectPayment()" primary small [disabled]="canPaid=== false">
                        Cobrar pago {{orderTotals?.Total ?? 0 | numeralFormat: '$0,0.00'}}
                    </button>
                </grid>
            </grid>
        </grid>
    </ng-template>
</tui-accordion-item>

<orders-collect-payment [(show)]="facade.showCollectPaymentModal" />
<orders-adjust-discount [(show)]="facade.showAdjustDiscountModal" />