<layout>
    <grid [gap]="[0,0]" [direction]="'column'" [height]="'var(--full-vh)'" [template]="'1fr 368px'">
        <grid [direction]="'row'" [template]="'1fr max-content'" [height]="'100%'" class="baseline">
            <grid [direction]="'row'" [gap]="[16,16]" [padding]="'1rem'" class="baseline">
                <grid [direction]="'column'" [template]="'1fr max-content'">
                    <grid [direction]="'column'" [align]="'center-left'" [height]="'100%'" class="baseline">
                        <span class="fw-500 f-01 f-20" padding="0.25rem 0 0 0">
                            Punto de Venta
                        </span>
                    </grid>
                    <grid [direction]="'column'" [align]="'center-right'" [height]="'100%'">
                        <button outline small flex icon-google>
                            <span class="material-symbols-outlined f-20 f-lh-16 f-06">
                                barcode_reader
                            </span>
                            Escanear
                        </button>
                    </grid>
                </grid>
                <grid *ngIf="(products?.length ?? 0) > 0" [direction]="'column'" [gap]="[16,16]"
                    [template]="'repeat(auto-fill, minmax(140px, 1fr))'" [height]="'100%'"
                    class="wrap baseline scroll-v">
                    <pos-product-card *ngFor="let product of products" [product]="product"
                        (click)="facade.ordersDraftFacade.onSelectProduct(product, 1)" />
                </grid>
                <grid *ngIf="(products?.length ?? 0) === 0" [direction]="'column'" [align]="'center-center'"
                    [height]="'100%'" [padding]="'2rem'">
                    <span class="f-14 fw-400 f-06 f-lh-17 t-center">
                        No hay productos para mostrar en esta categor√≠a
                    </span>
                </grid>
            </grid>
            <pos-category-tabs />
        </grid>
        <grid [gap]="[8,16]" [direction]="'row'" [template]="'1fr max-content'" [height]="'100%'" [padding]="'1rem'"
            class="baseline brdr-left bg-02 scroll-none">
            <grid [gap]="[16,16]" [direction]="'row'" [template]="'1fr max-content'" [height]="'calc(100% - 1rem)'"
                class="baseline scroll-v">
                <grid [direction]="'row'" [gap]="[16,16]">
                    <orders-customer [collapsed]="true" />
                    <orders-items [showSearchProduct]="false" [widthDescription]="'130px'" />
                </grid>
                <orders-summary *ngIf="!isMobileOrTablet" />
            </grid>
            <grid [direction]="'row'" [gap]="[16,16]" [padding]="'1rem 0 0 0'" class="brdr-top">
                <button (click)="facade.ordersDraftFacade.openCollectPaymentModal()" primary large full
                    [disabled]="!OrdersDomain.canCollectPayment(order)">
                    <grid [direction]="'column'" [template]="'1fr max-content'" [width]="'100%'"
                        [padding]="'0.25rem 0 0 0'">
                        <grid [direction]="'column'" [align]="'center-left'">
                            PAGAR
                        </grid>
                        <grid [direction]="'column'" [align]="'center-right'">
                            {{totalOrder | numeralFormat: '$0,0.00'}}
                        </grid>
                    </grid>
                </button>
            </grid>
        </grid>

    </grid>
</layout>

<orders-print [(show)]="facade.ordersDraftFacade.showPrintModal"
    (onClose)="facade.ordersDraftFacade.showPrintModal = false" />